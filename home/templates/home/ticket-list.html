{% extends "home/base-dash.html" %}

{% block content %}

<body class="bg-gray-50">

    <!-- Dashboard Layout -->
    <div class="container mx-auto px-4 py-8">
        <div class="flex flex-col md:flex-row gap-6">

            <!-- Main Content - Made wider -->
            <div class="md:w-5/6">
                <div class="flex justify-between items-center mb-6">
                    <h1 class="text-2xl font-bold">Tickets</h1>
                    <div class="flex space-x-2">
                        <div class="relative">
                            <select
                                class="appearance-none bg-white border border-gray-300 rounded-lg pl-3 pr-8 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-red-500">
                                <option>All Events</option>
                                <option>Upcoming</option>
                                <option>Past</option>
                                <option>Draft</option>
                            </select>
                            <i class="fas fa-chevron-down absolute right-3 top-3 text-xs text-gray-400"></i>
                        </div>
                        <button class="bg-white border border-gray-300 rounded-lg px-3 py-2 text-sm hover:bg-gray-50">
                            <i class="fas fa-download mr-1"></i> Export
                        </button>
                    </div>
                </div>

                <!-- Tickets Table - Now wider -->
                <div class="bg-white rounded-xl shadow-sm overflow-hidden">
                    <div class="px-6 py-4 border-b border-gray-200 flex justify-between items-center">
                        <h2 class="font-bold">Ticket Sales</h2>
                        <div class="flex space-x-2">
                            <div class="relative">
                                <input type="text" placeholder="Search tickets..."
                                    class="pl-8 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-red-500 focus:border-red-500">
                                <i class="fas fa-search absolute left-3 top-3 text-gray-400 text-sm"></i>
                            </div>
                            <select
                                class="bg-white border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-red-500">
                                <option>All Ticket Types</option>
                                <option>General Admission</option>
                                <option>VIP</option>
                                <option>Early Bird</option>
                            </select>
                        </div>
                    </div>
                    <div class="w-full overflow-x-auto">
                        <table class="w-full divide-y divide-gray-200">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th scope="col"
                                        class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                        Ticket #
                                    </th>
                                    <th scope="col"
                                        class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider sortable cursor-pointer">
                                        <div class="flex items-center">
                                            Buyer
                                            <i class="fas fa-sort ml-1"></i>
                                        </div>
                                    </th>
                                    <th scope="col"
                                        class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                        Type
                                    </th>
                                    <th scope="col"
                                        class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider sortable cursor-pointer">
                                        <div class="flex items-center">
                                            Date
                                            <i class="fas fa-sort ml-1"></i>
                                        </div>
                                    </th>
                                    <th scope="col"
                                        class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider sortable cursor-pointer">
                                        <div class="flex items-center">
                                            Price
                                            <i class="fas fa-sort ml-1"></i>
                                        </div>
                                    </th>
                                    <th scope="col"
                                        class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                        Status
                                    </th>
                                </tr>
                            </thead>
                            <tbody class="bg-white divide-y divide-gray-200">
                                <!-- Ticket 1 -->
                                <tr class="table-row">
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">
                                        #TN-2841
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="text-sm text-gray-900">John D.</div>
                                        <div class="text-sm text-gray-500">john@example.com</div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                        General Admission
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                        May 2, 2024
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                                        NAD 150
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span
                                            class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">
                                            Confirmed
                                        </span>
                                    </td>
                                </tr>

                                <!-- Ticket 2 -->
                                <tr class="table-row">
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">
                                        #TN-2842
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="text-sm text-gray-900">Maria S.</div>
                                        <div class="text-sm text-gray-500">+264 81 234 5678</div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                        VIP
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                        May 3, 2024
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                                        NAD 800
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span
                                            class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">
                                            Confirmed
                                        </span>
                                    </td>
                                </tr>

                                <!-- Ticket 3 -->
                                <tr class="table-row">
                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">
                                        #TN-2843
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <div class="text-sm text-gray-900">David M.</div>
                                        <div class="text-sm text-gray-500">david@example.com</div>
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                        Early Bird
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                        Apr 28, 2024
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">
                                        NAD 100
                                    </td>
                                    <td class="px-6 py-4 whitespace-nowrap">
                                        <span
                                            class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800">
                                            Pending
                                        </span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- Pagination -->
                    <div class="bg-white px-6 py-3 border-t border-gray-200">
                        <nav class="flex items-center justify-between">
                            <div class="hidden sm:block">
                                <p class="text-sm text-gray-700">
                                    Showing <span class="font-medium">1</span> to <span class="font-medium">3</span> of
                                    <span class="font-medium">24</span> results
                                </p>
                            </div>
                            <div class="flex-1 flex justify-between sm:justify-end">
                                <a href="#"
                                    class="relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50">
                                    Previous
                                </a>
                                <div class="flex space-x-1">
                                    <a href="#" class="pagination-item active">1</a>
                                    <a href="#" class="pagination-item">2</a>
                                    <a href="#" class="pagination-item">3</a>
                                    <span class="pagination-item">...</span>
                                    <a href="#" class="pagination-item">8</a>
                                </div>
                                <a href="#"
                                    class="relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50">
                                    Next
                                </a>
                            </div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Simple table sorting simulation
        document.querySelectorAll('.sortable').forEach(header => {
            header.addEventListener('click', () => {
                // Remove active class from all headers
                document.querySelectorAll('.sortable i').forEach(icon => {
                    icon.classList.remove('fa-arrow-up', 'fa-arrow-down', 'active-sort');
                });

                // Add active class to clicked header
                const icon = header.querySelector('i');
                icon.classList.add('active-sort');

                // Toggle sort direction
                if (icon.classList.contains('fa-sort')) {
                    icon.classList.replace('fa-sort', 'fa-arrow-up');
                } else if (icon.classList.contains('fa-arrow-up')) {
                    icon.classList.replace('fa-arrow-up', 'fa-arrow-down');
                } else {
                    icon.classList.replace('fa-arrow-down', 'fa-arrow-up');
                }

                // In a real app, you would sort the table data here
                console.log(`Sorting by ${header.textContent.trim()} ${icon.classList.contains('fa-arrow-up') ? 'ascending' : 'descending'}`);
            });
        });
    </script>
</body>
{% endblock content %}